<!DOCTYPE html>

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <!-- 
    函数定义有两种方式:
      1. 通过function关键字声明的函数 (函数声明)
        function fn(){...}
      2. 通过var关键字声明变量, 赋值一个匿名函数  (函数表达式)
        var fn = function(){...}

      ES5规定
        函数只能在全局作用域, 或者函数作用域中定义

      ES5规定
        函数可在全局作用域, 或者函数作用域, 或者块作用域中定义
        函数在块级作用域中, 外界不可访问
        注意: 各浏览器可不遵守该规定

      一般建议:
        1. 尽量避免在块级作用域中声明函数
            在块级作用域中声明函数, 会造成全局变量污染
        2. 如果需要在块作用域中定义函数, 则使用let fn = function(){}形式 (函数表达式...)
            在块级作用域中定义函数, 使用let定义函数, 那么该函数只在该快作用域内有效
      
   -->

  <script>
    // f1(); // 因为存在函数提升, 可以调用
    // f2(); // 因为存在变量提升, undefined(), 会报错  f2 is not a function

    // // (1) function函数声明
    // function f1() {}
    // // (2) var函数表达式
    // var f2 = function () {}


    // (1) 尽量避免在块作用域中, function声明函数 (避免)

    /* 
      第一种情况: 如果函数不是在块作用域中定义, 则会进行正常的 [函数提升]和[声明提升]
    */
    // fn1(); //函数整体提升
    // function fn1() {
    //   console.log(1);
    // }
    // console.log(fn5); //undefined  变量提升
    // fn5();
    // var fn5 = function(){
    //   console.log(5);
    // }

    /* 
      第二种情况: 如果函数在块作用域中定义 (使用function声明函数)
        表现:
          1. 并不会进行函数整体提升
          2. 而是将函数名, 当做变量, 进行变量提升
    */
    // console.log(fn3); //undefined
    // fn3(); //函数如果是在块作用域中定义, 则只会进行变量提升, 不会函数整体提升 fn3 is not a function
    // {
    //   function fn3(){
    //     console.log(3);
    //   }
    // }
    // fn3(); //3

    /* 
      第三种情况: 如果函数在块作用域中定义 (使用var声明函数)
        表现:
          1. 进行变量提升
    */
    // console.log(fn4); //undefined
    // fn4(); //将fn4变量进行提升, fn4=undefined  undefined() => 报错 ->fn4 is not a function
    // {
    //   var fn4 = function(){
    //     console.log(4);
    //   }
    // }


    // (2) 在块作用域中, 使用let定义函数 (推荐)
    // fn2(); //报错  fn2 is not defined
    if(true){
      let fn2 = function(){
        console.log(2);
      }
      fn2(); //2 函数只在块作用域中有效
    }
  </script>

</body>

</html>