<!DOCTYPE html>

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <!-- 
    解构赋值
      分为两类(也只有复杂类型具有解构, 而函数不是保存数据的, 则没有解构赋值): 
        (1) 将[数组]进行解构赋值
        (2) 将[对象]进行解构赋值

    对象的解构赋值:
      对象的解构赋值, 和数组不太一样:
      (1) 数组的元素是由顺序的, 所以是按照顺序给变量赋值
      (2) 对象的属性是没有顺序的, 要拿到对应的属性值, 必须通过其对应的属性名, 所以对对象进行解构赋值, 要求声明的变量名, 和对象中的属性名保持一致, 对顺序没有要求
   -->

  <script>
    /* 
      1. 将对象中的属性值取出来, 给变量赋值
    */
    let {
      foo,
      hoo
    } = {
      foo: 'hello',
      hoo: 'world'
    }
    console.log(foo, hoo); //'hello' 'world'
    console.log("------------------------------------");

    /* 
      2.将变量值取出来, 给一个对象的属性名赋值
    */
    let a = 1,
      b = 2;

    console.log({
      a: a,
      b: b
    }); //{a:1,b:2}
    console.log({
      a,
      b
    }); //{a:1,b:2}
    console.log("--------------------------------------");

    /* 
      (1) 如果=号左边, 只有变量, 则直接解构赋值
      (2) 如果=号左边, 给变量进行 = 赋值, 则是设置默认值(即如果右边没有赋值的, 使用默认值)
      (3) 如果=号左边, 给变量进行`: 改名, 则是让变量名进行改名, 实现和对象属性名不同
    */
    let {
      foo1: c,
      hoo1: d
    } = {
      foo1: 1,
      hoo1: 2
    };
    // console.log(foo1,hoo1); //foo1 is not defined  (变量已经改名)
    console.log(c, d); //1,2

    console.log("---------------------------------------");


    let {
      x,
      y = 10
    } = {
      x: 1
    };
    console.log(x, y); //1 10

    console.log("-----------------------------------------");

    /* 
      对象和数组解构时, 可以嵌套 
        解构赋值的关键:
          在于赋值号 = 两边的结构一定要一样
    */
    let obj = {
      a1: 1,
      b1: [2, 3, 4]
    }
    let {
      a1,
      b1: [e, f, g]
    } = obj;
    console.log(a1, e, f, g); //1 2 3 4
    console.log("---------------------------------");

    /* 
      练习1: 如果想要获取数组的第一个和最后一个值怎么办(使用解构赋值)
    */
    let arr = [1, 2, 3]
    let {
      0: first,
      [arr.length - 1]: last
    } = arr
    console.log(first, last); //1 3

    /* let {
      0: first,
      [2]: last
    } = arr
    console.log(first, last); //1 3 */

    /* let {
      0: first,
      2: last
    } = arr
    console.log(first, last); //1 3 */


    let res1 = [arr.length]
    let res2 = (arr.length)
    console.log(res1); //[3]
    console.log(res2); //3


    /* let {
      0: first,
      (arr.length - 1): last
    } = arr
    console.log(first, last); //1 3 */ //报错

    console.log("---------------------------------");

    /* 
      练习2: 获取log方法
    */
    /* 
      console是一个对象, 该对象上有一个属性叫log
      let{log} = console{log:function(){}}
      log = function(){}
      log(1) => 1
    */
    let {
      log
    } = console;
    log(1) //1

    console.log("------------------------------------");
    /* 
      利用解构赋值, 接收函数的多个返回值
    */
    function fn() {
      return [1, 2, 3, 4]
    }
    let [a4, b4, c4, d4] = fn();
    console.log(a4, b4, c4, d4); // 1 2 3 4

    function fn1() {
      return {
        name: 'lis',
        age: 19
      }
    }
    let {
      name,
      age
    } = fn1();
    console.log(name, age); //'lis' 19

    console.log("------------------------------------");

    /* 
        利用解构赋值, 进行函数的传参
    */
    //  let ([x,y,z]) = [1,2,3]
    function fn2([x, y, z]) {
      console.log(x, y, z);
    }
    fn2([1, 2, 3]); //1 2 3
    //  let({x,y,z}) = {y:2,x:1,z:3}
    function fn3({
      x,
      y,
      z
    }) {
      console.log(x, y, z);
    }
    fn3({
      y: 2,
      x: 1,
      z: 3
    }); //1 2 3


    console.log("------------------------------------");
    /* 
      json字符串转js对象后, 将json对象中的属性值提取出来
    */
   let jsonObj = {
     name:'lily',
     sex:'nv',
     age:18
   }
   let {name:name1,sex,age:age1} = jsonObj;
   console.log(name1,sex,age1); // 'lily' 'nv' 18

   
  </script>
</body>

</html>